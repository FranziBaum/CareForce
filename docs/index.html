<!DOCTYPE html>
<!-- A-Frame wird, wie auch p5, in einer HTML Seite eingebunden -->
<html>

<head>
  <!-- im Head werden Angaben zum Titel und zu Metadaten gemacht-->
  <title>May the CareForce be with you!</title>
  <meta charset="utf-8">
  <!--Zeichensatz für Umlaute-->

  <!-- nachfolgend werden die stylesheets und Skripte eingebunden -->
  <link rel="stylesheet" href="css/style.css">
  <script src="js/aframe.min.js"></script>
  <script src="js/component_interactive.js"></script>
  <script src="js/component_button.js"></script>
  <script src="js/component_game.js"></script>
  <script src="js/component_feedback.js"></script>
  <script src="js/component_handy.js"></script>
</head>

<body>
    <div id="greywrap" class="wrapper">
        <div id="blurwrap" class="wrapper">

  <!-- Da es sich um ein HTML Dokument handelt gibt es einen body-tag für den Inhalt -->
  <a-scene id="scene" game shadow background="color: black">
    <a-animation attribute="background.color" begin="animate" dur="7500" from="lightblue" to="black" repeat="1" direction="alternate"></a-animation>

    <a-assets>
      <!-- Hier werden die Assets (Objekte, Bilder, Sounds, etc.) geladen mit denen wir arbeiten möchten.-->
      <a-asset-item id="room_dae" src="assets/room.dae"></a-asset-item>
      <a-asset-item id="schrank_dae" src="assets/schrank.dae"></a-asset-item>
      <a-asset-item id="book_dae" src="assets/book.dae"></a-asset-item>
      <a-asset-item id="glasses_dae" src="assets/glasses.dae"></a-asset-item>
      <a-asset-item id="handy_dae" src="assets/handy.dae"></a-asset-item>
      <a-asset-item id="cat_dae" src="assets/cat2.dae"></a-asset-item>
      <a-asset-item id="heart_obj" src="assets/heart.obj"></a-asset-item>
      <a-asset-item id="plattenspieler_dae" src="assets/plattenspieler.dae"></a-asset-item>
      <a-asset-item id="music_dae" src="assets/music.dae"></a-asset-item>
      <a-asset-item id="grannybody_dae" src="assets/grannybody.dae"></a-asset-item>
      <a-asset-item id="grannyhead_dae" src="assets/grannyhead.dae"></a-asset-item>

      <a-asset-item id="tulip0_dae" src="assets/tulip0.dae"></a-asset-item>
      <a-asset-item id="tulip20_dae" src="assets/tulip20.dae"></a-asset-item>
      <a-asset-item id="tulip40_dae" src="assets/tulip40.dae"></a-asset-item>
      <a-asset-item id="tulip60_dae" src="assets/tulip60.dae"></a-asset-item>
      <a-asset-item id="tulip80_dae" src="assets/tulip80.dae"></a-asset-item>
      <a-asset-item id="tulip100_dae" src="assets/tulip100.dae"></a-asset-item>






    </a-assets>

      <!-- Hier wird dei Kamera/Sicht des Nutzers erstellt -->
    <a-camera position="-0.1 -3 1" rotation="0 0 0" id="kamera1" userHeight="1.6" look-controls wasd-controls>
      <a-animation attribute="position" begin="animate" from="-0.1 0.2 1" to="0 0 -10" dur="5000"></a-animation>
      <a-animation id="kameraanimation" attribute="position" begin="animate" delay="5000" from="0 0 -10" to="-0.1 0.2 1" dur="5000"></a-animation>

        <a-sound id="introsound" src="src: url(sounds/intro.mp3)" autoplay="false" position="0 2 5" volume="14"></a-sound>
        <a-sound id="outrosound" src="src: url(sounds/outro.mp3)" autoplay="false" position="0 2 5" volume="14"></a-sound>

      <a-cursor fuse="true" fuseTimeout="1500" raycaster="objects:.clickable" position="0 0 -0.5" geometry="primitive: circle; radius: 0.1"
        material="color: white; shader: flat; transparent: true; opacity: 0.8" scale="0.1 0.1 0.1">
        <a-animation begin="fusing" easing="ease-out" attribute="scale" dur="100" fill="forwards" from="0.1 0.1 0.1" to="0.13 0.13 0.13"></a-animation>
        <a-animation begin="fusing" easing="ease-in" attribute="scale" dur="1000" delay="100" fill="forwards" from="0.13 0.13 0.13"
          to="0.04 0.04 0.04"></a-animation>
        <a-animation begin="click" attribute="scale" dur="300" fill="forwards" easing="ease-in" from="0.04 0.04 0.04" to="0.1 0.1 0.1"></a-animation>
      </a-cursor>
    </a-camera>



    <a-text id="poem" value="Wie viel Zeit kannst du aufbringen?" color="white" width="1.5" position="-0.6 0.3 0" visible="false" ></a-text>
    <a-text id="bye" value="Für wie lange möchtest du morgen wieder kommen?" color="white" width="1.5" position="-0.35 0.3 0" visible="false"></a-text>

    <a-text id="elixir" line-height="60" align="center" value="Jeder Mensch sehnt sich nach Zuneigung und Liebe. Bei Menschen mit Pflegebedarf ist das nicht anders. Das Beste was du tun kannst, ist ihnen deine Zeit zu schenken und ihnen zu zeigen, dass du da bist und sie dir wichtig sind. Geborgenheit und Liebe kann nicht gekauft oder hergestellt werden, man muss es durch seine Taten zeigen. Du hast es in der Hand, jemandem zu helfen.”
    "color="white" width="2" position="0 0.1 0" visible="false" shader="flat"></a-text>
   
    <a-entity light="type:point; castShadow:true; intensity:0.06;" id="roomlamp" position="0 0.75 0"></a-entity>
    <a-entity light="type:ambient; intensity:0;" id="ambientlight" position="0 0 0">
        <a-animation attribute="light.intensity" from="0.3" to="0.01" begin="animate" dur="7500" repeat="1" direction="alternate"></a-animation>

    </a-entity>
    <a-sphere id="sunsphere" position="0 40 -30" color="yellow" shader="flat">
      <a-animation attribute="position" begin="animate" from="0 40 -30" to="0 -5 -80" dur="7500"></a-animation>
      <a-animation attribute="position" begin="animate" delay="5000" from="0 -5 50" to="0 40 -30" dur="7500"></a-animation>

      <a-entity light="type:point; intensity: 0;" id="sun" position="0 0 0">
          <a-animation attribute="light.intensity" begin="animate" from="0.5" to="0" dur="7500" repeat="1" direction="alternate"></a-animation>

      </a-light>


    </a-sphere>



    <a-plane id="start" button="value: START" position="0 -0.3 -1" width="1" height="0.5" color="grey" shader="flat"></a-plane>
    <a-plane class="pick" button="value: 1" position="-1.5 0 -0.85" width="1" height="0.5" color="grey" shader="flat" rotation="0 20 0" visible="false"></a-plane>
    <a-plane class="pick" button="value: 2" position="0 0 -1" width="1" height="0.5" color="grey" shader="flat" rotation="0 0 0" class="clickable" visible="false"></a-plane>
    <a-plane class="pick" button="value: 4" position="1.5 0 -0.85" width="1" height="0.5" color="grey" shader="flat" rotation="0 -20 0" visible="false"></a-plane>
    <a-plane id="endgame" button="value: beenden" position="-1.5 -1 -1" width="1" height="0.5" color="grey" shader="flat" rotation="0 0 0" visible="false"></a-plane>
    <a-plane id="continue" button="value: Fortsetzen" position="0 -1 -1" width="1" height="0.5" color="grey" shader="flat" rotation="0 0 0" visible="false"></a-plane>








    <a-collada-model id="granny" src="#grannybody_dae" position="-1.2 -0.6 0.5" rotation="0 70 0" scale="0.13 0.13 0.13" shadow="cast: true; receive: true;" visible="false">
        <a-collada-model id="grannyhead" src="#grannyhead_dae" position="0 4.85 0" rotation="30 0 0" scale="1 1 1" shadow="cast: true; receive: true;">
          <a-animation attribute="rotation" from="0 0 0" to="0 0 0" dur="1000" fill="forward" begin="animate"></a-animation>
        </a-collada-model>

      <a-sound id="grannygreet1" src="src: url(sounds/grannygreet.mp3)" autoplay="false" position="0 0 0" volume="14"></a-sound>
      <a-sound id="grannygreet2" src="src: url(sounds/grannygreet2.mp3)" autoplay="false" position="0 0 0" volume="14"></a-sound>
      <a-sound id="grannygreet3" src="src: url(sounds/grannygreet3.mp3)" autoplay="false" position="0 0 0" volume="14"></a-sound>

      <a-sound id="startglasses" src="src: url(sounds/startglasses.mp3)" autoplay="false" position="0 0 0" volume="14"></a-sound>
      <a-sound id="endglasses" src="src: url(sounds/endglasses.mp3)" autoplay="false" position="0 0 0" volume="14"></a-sound>
      <a-sound id="expireglasses" src="src: url(sounds/expireglasses.mp3)" autoplay="false" position="0 0 0" volume="14"></a-sound>
      <a-sound id="startbook" src="src: url(sounds/startbook.mp3)" autoplay="false" position="0 0 0" volume="14"></a-sound>
      <a-sound id="endbook" src="src: url(sounds/endbook.mp3)" autoplay="false" position="0 0 0" volume="14"></a-sound>
      <a-sound id="expirebook" src="src: url(sounds/expirebook.mp3)" autoplay="false" position="0 0 0" volume="14"></a-sound>
      <a-sound id="startmusic" src="src: url(sounds/startmusic.mp3)" autoplay="false" position="0 0 0" volume="14"></a-sound>
      <a-sound id="endmusic" src="src: url(sounds/endmusic.mp3)" autoplay="false" position="0 0 0" volume="14"></a-sound>
      <a-sound id="expiremusic" src="src: url(sounds/expiremusic.mp3)" autoplay="false" position="0 0 0" volume="14"></a-sound>
      <a-sound id="startglas" src="src: url(sounds/startglas.mp3)" autoplay="false" position="0 0 0" volume="14"></a-sound>
      <a-sound id="endglas" src="src: url(sounds/endglas.mp3)" autoplay="false" position="0 0 0" volume="14"></a-sound>
      <a-sound id="expireglas" src="src: url(sounds/expireglas.mp3)" autoplay="false" position="0 0 0" volume="14"></a-sound>
      <a-sound id="endday1h" src="src: url(sounds/endday1h.mp3)" autoplay="false" position="0 0 0" volume="14"></a-sound>
      <a-sound id="endday2h" src="src: url(sounds/endday2h.mp3)" autoplay="false" position="0 0 0" volume="14"></a-sound>
      <a-sound id="endday4h" src="src: url(sounds/endday4h.mp3)" autoplay="false" position="0 0 0" volume="14"></a-sound>



      <a-obj-model feedback id="heart" src="#heart_obj" position="0.1 2.9 1.6" scale="1.5 1.5 1.5" rotation="0 90 0" shadow="cast: false; receive: false;"></a-obj-model>

    </a-collada-model>
      </a-collada-model>


    <a-collada-model id="tulip" src="#tulip100_dae" position="3.5 -0.66 -1.8" scale="1.5 1.5 1.5" shadow="cast: true; receive: false;"></a-collada-model>




    <a-collada-model handy id="handy" src="#handy_dae" position="0 -0.6 0" rotation="0 90 0" shadow="cast: false; receive: false;"
      visible="false">
      <a-text id="uhr" value="12:30" rotation="-90 0 0" align="center" color="white" position="0.495 -0.3972 -0.5" wrap-count="150">
      </a-text>
    </a-collada-model>

    <a-collada-model id="room" src="#room_dae" position="0 0 0" rotation="0 0 0" shadow="receive: true; cast: true"></a-collada-model>

    <a-collada-model id="schrank" src="#schrank_dae" shadow="cast: true; receive: true;">
      <a-collada-model interactive="influence: 40" id="book" src="#book_dae" position="3.3 0 2.4" rotation="0 0 0" shadow="cast: true; receive: true;">
        <a-animation attribute="position" begin="animate" dur="5000" to="3.3 0 1"></a-animation>
        <a-animation attribute="rotation" begin="animate" dur="4000" to="0 270 0"></a-animation>
        <a-animation attribute="position" begin="animate" delay="7000" dur="5000" from="3.3 0 1" to="3.3 0 2.4"></a-animation>
        <a-animation attribute="rotation" begin="animate" delay="7000" dur="4000" from="0 270 0" to="0 0 0"></a-animation>
      </a-collada-model>
    </a-collada-model>

    <a-collada-model interactive="influence: 60" id="glasses" src="#glasses_dae" position="-3, -0.85, 1" shadow="cast: true; receive: true">
      <a-animation attribute="position" begin="animate" dur="5000" to="0 0 0"></a-animation>
    </a-collada-model>



    <a-collada-model id="plattenspieler" src="#plattenspieler_dae" position="0 0 2.4" rotation="0 0 0" shadow="cast: true; receive: true;">
      <a-collada-model interactive="influence: 40" id="music" src="#music_dae" shadow="cast: false; receive: false;">
        <a-animation attribute="rotation" begin="animate" dur="30000" to="0 1300 0"></a-animation>
      </a-collada-model>
    </a-collada-model>




  </a-scene>
</div>
</div>
</body>

</html>